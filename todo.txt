# Yuho v5 PRD - Updated 2026-02-03
# Priority: (A) Critical/blocking, (B) Important, (C) Enhancement, (D) Future/v6

# ============================================================================
# CODE QUALITY & ARCHITECTURE (v5.1)
# ============================================================================

(B) Refactor lsp/server.py (1,427 lines) into separate handler modules and specifically extract completion_handler.py, hover_handler.py, code_action_handler.py, diagnostics.py +architecture
(C) Add --explain-error flag for detailed error diagnostics with suggestions +cli +ux
(C) Add rate limiting to MCP server to prevent abuse +security +mcp
(C) Refactor latex_transpiler.py (696 lines) into smaller focused modules +architecture

# ============================================================================
# CLI ENHANCEMENTS (v5.1)
# ============================================================================

(B) Add GraphQL schema transpilation target for building legal APIs +cli +transpile
(B) Implement REPL mode for interactive statute experimentation (yuho repl) +cli +workflow
(B) Add diff command to compare statute versions and show changes (yuho diff) +cli +workflow
(B) Add graph command to visualize statute dependencies (yuho graph --format dot/mermaid) +cli +workflow
(B) Implement lint command for style checking and best practices (yuho lint) +cli +analysis
(C) Add API server mode for remote transpilation and validation (yuho api --port 8080) +cli +integration

# ============================================================================
# CLI ALTERNATIVES TO SVELTE WEB APP (v5.1)
# ============================================================================

(C) Add interactive TUI wizard for statute creation that uses inquirer-style prompts to build statutes step-by-step (yuho new --wizard) +cli +alternative 
(C) Implement AST visualization in terminal that uses tree-like ASCII output showing statute structure (yuho ast --tree) with ASCII art +cli +alternative
(C) Add live preview mode with file watching that watches file, auto-transpiles to mermaid/english, opens in browser (yuho preview statute.yh) +cli +alternative
(C) Implement statute scaffold generator that generates boilerplate .yh file with proper structure (yuho generate s500 --title "Theft") +cli +alternative
(C) Add block-notation output format that outputs a structured text representation of blocks (yuho transpile --target blocks) +cli +alternative

# ============================================================================
# NEOVIM EXTENSION SUPPORT
# ============================================================================

(D) Further ideate and build out features for the yuho neovim extension, then suggest them to me via MCQ format
(D) For those I select, break them down and add them to todo.txt as atomic tasks to be completed, ensuring that each single task can be completed by a coding agent without requiring it to posess too much prerequisite context
