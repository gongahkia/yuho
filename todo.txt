
(B) Add a maximum request body size guard in `src/yuho/cli/commands/api.py` and return HTTP 413 for oversized payloads. +security +api +stability
(B) Validate API payload schemas in `src/yuho/cli/commands/api.py` before invoking parser or transpiler logic. +stability +api +validation
(B) Return HTTP 422 for parse and semantic validation failures in `src/yuho/cli/commands/api.py` instead of always returning HTTP 200. +api +consistency +stability
(B) Remove the duplicate `LogVerbosity` enum declaration in `src/yuho/mcp/server.py`. +bugfix +mcp +cleanup
(B) Wrap every MCP tool in `src/yuho/mcp/server.py` with `MCPRequestLogger.log_request` and `MCPRequestLogger.log_response`. +observability +mcp +stability
(B) Add per-tool latency histograms and error counts to `RateLimiter.get_stats()` in `src/yuho/mcp/server.py`. +metrics +mcp +scaling
(B) Replace env-var side-channel host binding in `run_http` at `src/yuho/mcp/server.py` with explicit FastMCP transport options. +bugfix +mcp +network
(B) Enforce MCP HTTP auth token checks in `src/yuho/mcp/server.py` when `mcp.auth_token` is set. +security +mcp +stability
(B) Fix byte-offset merge logic in `SourceLocation.merge` at `src/yuho/parser/source_location.py` by checking `is not None` instead of truthiness. +bugfix +parser +stability
(B) Add unit tests for zero-offset merge behavior in `tests/test_source_location.py`. +test +parser +stability
(B) Replace the invalid parser smoke command `yuho check -` in `setup.sh` with a temporary `.yh` file smoke check. +bugfix +installer +dx
(B) Add CI smoke test in `.github/workflows/ci.yml` that runs `yuho check examples/simple_statute.yh` after install. +ci +stability +release
(B) Add a build hook in `src/pyproject.toml` that compiles and packages the tree-sitter shared library into wheel artifacts. +build +packaging +stability
(B) Add an integration test script in `tests/test_packaging_runtime.py` that verifies parser runtime works after `pip install -e ./src` in a clean venv. +test +packaging +stability
(B) Improve missing-library runtime diagnostics in `src/tree_sitter_yuho/__init__.py` by printing attempted paths and platform-specific fix hints. +ux +packaging +diagnostics
(B) Fix AST API mismatches in `src/yuho/verify/alloy.py` so it uses tuple-based fields from `src/yuho/ast/nodes.py`. +bugfix +verify +stability
(B) Remove invalid `Z3Generator` import from `src/yuho/verify/combined.py` or implement the missing class in `src/yuho/verify/z3_solver.py`. +bugfix +verify +stability
(B) Add a guarded `yuho verify` CLI command in `src/yuho/cli/main.py` that exposes current verify capabilities or explicit unavailability errors. +feature +cli +verify
(B) Add file locks around index writes in `src/yuho/library/index.py` to prevent concurrent corruption. +stability +library +infra
(B) Write `index.json` atomically in `src/yuho/library/index.py` using temporary files and rename semantics. +stability +library +infra
(B) Write `yuho.lock` atomically in `src/yuho/library/lockfile.py` using temporary files and rename semantics. +stability +library +infra
(B) Add retry with exponential backoff for transient HTTP failures in `check_updates` and `download_package` in `src/yuho/library/install.py`. +stability +library +network
(B) Add `--offline` handling in `src/yuho/cli/main.py` and `src/yuho/cli/commands/library.py` that blocks network operations and uses local index only. +feature +offline +library
(B) Stop silently skipping parse failures in `run_lint` in `src/yuho/cli/commands/lint.py` and report per-file parse diagnostics with non-zero exit on parse errors. +bugfix +cli +lint
(B) Stop silently swallowing file parse and AST exceptions in `run_test` in `src/yuho/cli/commands/test.py` and report deterministic failure output. +bugfix +cli +testing
