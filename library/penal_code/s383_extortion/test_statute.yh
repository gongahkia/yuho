/*
Test cases for S383 Extortion

Tests verify all compound elements required for extortion:
    1. Fear induced
    2. Valid harm type (body, mind, reputation, property)
    3. Valid harm target (victim or third party)
    4. Dishonest inducement
    5. Delivery of property/valuable security/signed document
*/

referencing s383_extortion/statute

scope testS383Extortion {

    // Test Case 1: All elements present, threat to body -> Extortion
    ExtortionCase testExtortionBody := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearInduced,
        harmType := HarmType.Body,
        harmTarget := HarmTarget.Victim,
        harmLegality := HarmLegality.Illegal,
        inducementType := InducementType.Dishonest,
        deliveryType := DeliveryType.Property,
        definition := ConsequenceDefinition.CommitsExtortion,
    }
    assert testExtortionBody.definition == ConsequenceDefinition.CommitsExtortion

    // Test Case 2: Threat to reputation (defamatory libel) -> Extortion
    ExtortionCase testExtortionReputation := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearInduced,
        harmType := HarmType.Reputation,
        harmTarget := HarmTarget.Victim,
        harmLegality := HarmLegality.Legal,
        inducementType := InducementType.Dishonest,
        deliveryType := DeliveryType.ValuableSecurity,
        definition := ConsequenceDefinition.CommitsExtortion,
    }
    assert testExtortionReputation.definition == ConsequenceDefinition.CommitsExtortion

    // Test Case 3: Legal threat still constitutes extortion
    ExtortionCase testLegalThreat := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearInduced,
        harmType := HarmType.Property,
        harmTarget := HarmTarget.Victim,
        harmLegality := HarmLegality.Legal,
        inducementType := InducementType.Dishonest,
        deliveryType := DeliveryType.Property,
        definition := ConsequenceDefinition.CommitsExtortion,
    }
    assert testLegalThreat.definition == ConsequenceDefinition.CommitsExtortion

    // Test Case 4: Threat to third party -> Extortion
    ExtortionCase testThirdPartyThreat := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearInduced,
        harmType := HarmType.Body,
        harmTarget := HarmTarget.ThirdParty,
        harmLegality := HarmLegality.Illegal,
        inducementType := InducementType.Dishonest,
        deliveryType := DeliveryType.Property,
        definition := ConsequenceDefinition.CommitsExtortion,
    }
    assert testThirdPartyThreat.definition == ConsequenceDefinition.CommitsExtortion

    // Test Case 5: Signed document delivery -> Extortion
    ExtortionCase testSignedDocument := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearInduced,
        harmType := HarmType.Body,
        harmTarget := HarmTarget.Victim,
        harmLegality := HarmLegality.Illegal,
        inducementType := InducementType.Dishonest,
        deliveryType := DeliveryType.SignedSealedDocument,
        definition := ConsequenceDefinition.CommitsExtortion,
    }
    assert testSignedDocument.definition == ConsequenceDefinition.CommitsExtortion

    // Test Case 6: No fear induced -> Not Extortion
    ExtortionCase testNoFear := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearNotInduced,
        harmType := HarmType.Body,
        harmTarget := HarmTarget.Victim,
        harmLegality := HarmLegality.Illegal,
        inducementType := InducementType.Dishonest,
        deliveryType := DeliveryType.Property,
        definition := ConsequenceDefinition.DoesNotCommitExtortion,
    }
    assert testNoFear.definition == ConsequenceDefinition.DoesNotCommitExtortion

    // Test Case 7: Not dishonest inducement -> Not Extortion
    ExtortionCase testNotDishonest := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearInduced,
        harmType := HarmType.Body,
        harmTarget := HarmTarget.Victim,
        harmLegality := HarmLegality.Illegal,
        inducementType := InducementType.NotDishonest,
        deliveryType := DeliveryType.Property,
        definition := ConsequenceDefinition.DoesNotCommitExtortion,
    }
    assert testNotDishonest.definition == ConsequenceDefinition.DoesNotCommitExtortion

    // Test Case 8: No delivery -> Not Extortion
    ExtortionCase testNoDelivery := {
        accused := Party.Accused,
        victim := Party.Victim,
        fearStatus := FearStatus.FearInduced,
        harmType := HarmType.Body,
        harmTarget := HarmTarget.Victim,
        harmLegality := HarmLegality.Illegal,
        inducementType := InducementType.Dishonest,
        deliveryType := DeliveryType.NA,
        definition := ConsequenceDefinition.DoesNotCommitExtortion,
    }
    assert testNoDelivery.definition == ConsequenceDefinition.DoesNotCommitExtortion

}
